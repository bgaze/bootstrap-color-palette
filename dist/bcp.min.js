!function(r,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?t(require("jquery")):t(jQuery)}(0,(function(r){!function(r){var t=r=>r?r.replace(/^#([a-f\d])([a-f\d])([a-f\d])$/i,((r,t,o,e)=>"#"+t+t+o+o+e+e)):null,o=r=>{if(!r)return null;var o=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t(r));return o?(o=Math.round((299*parseInt(o[1],16)+587*parseInt(o[2],16)+114*parseInt(o[3],16))/1e3))<=125:null},e=(r,t)=>{var o=r.data("bs.popover").config.colors||null;if(o&&t)for(var e in o)for(var a in o[e])if(a===t)return o[e][a];return null},a={colors:[],template:'<div class="popover bcp-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',body:r=>`<div class="bcp-content">${r.map((r=>{let t="";for(var e in r){t+=`<div class="bcp-color ${o(e)?"bcp-dark":"bcp-light"}" style="background-color: ${e};" data-color="${e}" title="${r[e]}"></div>`}return`<div class="bcp-row">${t}</div>`})).join("")}</div>`};r.bcpSetup=t=>{a=r.extend(a,t)},r.fn.bcp=function(i,c){if("color"===i){if(c)return r(this).attr("data-color",t(c)),void r(this).trigger("pcb.selected").trigger("pcb.refresh");let a=r(this).first().attr("data-color")||null;return{value:a,label:e(r(this).first(),a),dark:o(a)}}r(this).removeAttr("data-html").removeAttr("data-sanitize").removeAttr("data-trigger").removeAttr("data-content");var n=r.extend({},a,i);if(n.colors.length)return n=r.extend(n,{html:!0,sanitize:!1,trigger:"manual",content:function(){return n.body(n.colors)}}),r(this).popover(n).on("shown.bs.popover",(function(){var t=r(this).attr("data-color");t&&""!==t&&r(`[data-color="${t}"]`,r(r(this).data("bs.popover").tip)).addClass("bcp-active")})),r(this).click((function(){r(this).popover("toggle")})),r(this).each((function(){r(this).attr("data-color")&&""!==r(this).attr("data-color")||r(this).attr("data-color",t(n.color))})).trigger("pcb.refresh"),this},r(document).on("click",(function(t){var o=r(t.target);if(o.is(".bcp-popover .bcp-color *")&&(o=o.parents(".bcp-color")),o.is(".bcp-popover .bcp-color:not(.bcp-active)")){let t=o.parents(".bcp-popover");return r(".bcp-active",t).removeClass("bcp-active"),void r(`[aria-describedby="${t.attr("id")}"]`).popover("hide").bcp("color",o.attr("data-color"))}r(".bcp-popover.show").each((function(){let t=r(this).attr("id");o.is(`[aria-describedby="${t}"], [aria-describedby="${t}"] *, #${t}, #${t} *`)||r(`[aria-describedby="${t}"]`).popover("hide")}))}))}(jQuery)}));
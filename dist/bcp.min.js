!function(r){var t=r=>r?r.replace(/^#([a-f\d])([a-f\d])([a-f\d])$/i,(r,t,o,a)=>"#"+t+t+o+o+a+a):null,o=r=>{if(!r)return null;var o=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t(r));return o?(o=Math.round((299*parseInt(o[1],16)+587*parseInt(o[2],16)+114*parseInt(o[3],16))/1e3))<=125:null},a={colors:[],template:'<div class="popover bcp-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',body:r=>{return`<div class="bcp-content">${r.map(r=>{let t="";for(var a in r){t+=`<div class="bcp-color ${o(a)?"dark":"light"}" style="background-color: ${a};" data-color="${a}" title="${r[a]}"></div>`}return`<div class="bcp-row">${t}</div>`}).join("")}</div>`}};r.bcpSetup=t=>{a=r.extend(a,t)},r.fn.bcp=function(e,i){if("color"===e)return i?(r(this).attr("data-color",t(i)),void r(this).trigger("pcb.selected").trigger("pcb.refresh")):{value:r(this).first().attr("data-color")||null,dark:o(r(this).first().attr("data-color")||null)};var c=r.extend({},a,e);return c.colors.length?(c=r.extend(c,{html:!0,sanitize:!1,trigger:"manual",content:function(){return c.body(c.colors)}}),r(this).popover(c).on("shown.bs.popover",(function(){var t=r(this).attr("data-color");t&&""!==t&&r(`[data-color="${t}"]`,r(r(this).data("bs.popover").tip)).addClass("active")})),r(this).click((function(){r(this).popover("toggle")})),r(this).each((function(){r(this).attr("data-color")&&""!==r(this).attr("data-color")||r(this).attr("data-color",t(c.color))})).trigger("pcb.refresh"),this):void 0},r(document).on("click",(function(t){var o=r(t.target);if(o.is(".bcp-popover .bcp-color *")&&(o=o.parents(".bcp-color")),o.is(".bcp-popover .bcp-color:not(.active)")){let t=o.parents(".bcp-popover");return r(".active",t).removeClass("active"),void r(`[aria-describedby="${t.attr("id")}"]`).popover("hide").bcp("color",o.attr("data-color"))}r(".bcp-popover.show").each((function(){let t=r(this).attr("id");o.is(`[aria-describedby="${t}"], [aria-describedby="${t}"] *, #${t}, #${t} *`)||r(`[aria-describedby="${t}"]`).popover("hide")}))}))}(jQuery);
!function(o){var r=o=>o?o.replace(/^#([a-f\d])([a-f\d])([a-f\d])$/i,(o,r,t,e)=>"#"+r+r+t+t+e+e):null,t=o=>{if(!o)return null;var t=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r(o));return t?(t=Math.round((299*parseInt(t[1],16)+587*parseInt(t[2],16)+114*parseInt(t[3],16))/1e3))<=125:null},e={colors:[],template:'<div class="popover bcp-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',body:o=>{return`<div class="bcp-content">${o.map(o=>{let r="";for(var e in o){r+=`<div class="bcp-color ${t(e)?"dark":"light"}" style="background-color: ${e};" data-color="${e}" title="${o[e]}"></div>`}return`<div class="bcp-row">${r}</div>`}).join("")}</div>`}};o.bcpSetup=r=>{e=o.extend(e,r)},o.fn.bcp=function(a,i){if("color"===a)return i?(o(this).attr("data-color",r(i)),void o(this).trigger("pcb.selected").trigger("pcb.refresh")):{value:o(this).first().attr("data-color")||null,dark:t(o(this).first().attr("data-color")||null)};var c=o.extend({},e,a);return c.colors.length?(c=o.extend(c,{html:!0,sanitize:!1,trigger:"manual",content:function(){return console.log(c.body(c.colors)),c.body(c.colors)}}),o(this).popover(c).on("shown.bs.popover",(function(){var r=o(this).attr("data-color");r&&""!==r&&o(`[data-color="${r}"]`,o(o(this).data("bs.popover").tip)).addClass("active")})),o(this).click((function(){o(this).popover("toggle")})),o(this).each((function(){o(this).attr("data-color")&&""!==o(this).attr("data-color")||o(this).attr("data-color",r(c.color))})).trigger("pcb.refresh"),this):void 0},o(document).on("click",(function(r){var t=o(r.target);if(t.is(".bcp-popover .bcp-color *")&&(t=t.parents(".bcp-color")),t.is(".bcp-popover .bcp-color:not(.active)")){let r=t.parents(".bcp-popover");return o(".active",r).removeClass("active"),void o(`[aria-describedby="${r.attr("id")}"]`).popover("hide").bcp("color",t.attr("data-color"))}o(".bcp-popover.show").each((function(){let r=o(this).attr("id");t.is(`[aria-describedby="${r}"], [aria-describedby="${r}"] *, #${r}, #${r} *`)||o(`[aria-describedby="${r}"]`).popover("hide")}))}))}(jQuery);
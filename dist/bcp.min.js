!function(r,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?t(require("jquery")):t(jQuery)}(0,(function(r){!function(r){var t=r=>r?r.replace(/^#([a-f\d])([a-f\d])([a-f\d])$/i,(r,t,e,o)=>"#"+t+t+e+e+o+o):null,e=r=>{if(!r)return null;var e=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t(r));return e?(e=Math.round((299*parseInt(e[1],16)+587*parseInt(e[2],16)+114*parseInt(e[3],16))/1e3))<=125:null},o=(r,t)=>{var e=r.data("bs.popover").config.colors||null;if(e&&t)for(var o in e)for(var a in e[o])if(a===t)return e[o][a];return null},a={colors:[],template:'<div class="popover bcp-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',body:r=>{return`<div class="bcp-content">${r.map(r=>{let t="";for(var o in r){t+=`<div class="bcp-color ${e(o)?"bcp-dark":"bcp-light"}" style="background-color: ${o};" data-color="${o}" title="${r[o]}"></div>`}return`<div class="bcp-row">${t}</div>`}).join("")}</div>`}};r.bcpSetup=t=>{a=r.extend(a,t)},r.fn.bcp=function(i,c){if("color"===i){if(c)return r(this).attr("data-color",t(c)),void r(this).trigger("pcb.selected").trigger("pcb.refresh");let a=r(this).first().attr("data-color")||null;return{value:a,label:o(r(this).first(),a),dark:e(a)}}r(this).removeAttr("data-html").removeAttr("data-sanitize").removeAttr("data-trigger").removeAttr("data-content");var n=r.extend({},a,i);if(n.colors.length)return n=r.extend(n,{html:!0,sanitize:!1,trigger:"manual",content:function(){return n.body(n.colors)}}),r(this).popover(n).on("shown.bs.popover",(function(){var t=r(this).attr("data-color");t&&""!==t&&r(`[data-color="${t}"]`,r(r(this).data("bs.popover").tip)).addClass("bcp-active")})),r(this).click((function(){r(this).popover("toggle")})),r(this).each((function(){r(this).attr("data-color")&&""!==r(this).attr("data-color")||r(this).attr("data-color",t(n.color))})).trigger("pcb.refresh"),this},r(document).on("click",(function(t){var e=r(t.target);if(e.is(".bcp-popover .bcp-color *")&&(e=e.parents(".bcp-color")),e.is(".bcp-popover .bcp-color:not(.bcp-active)")){let t=e.parents(".bcp-popover");return r(".bcp-active",t).removeClass("bcp-active"),void r(`[aria-describedby="${t.attr("id")}"]`).popover("hide").bcp("color",e.attr("data-color"))}r(".bcp-popover.show").each((function(){let t=r(this).attr("id");e.is(`[aria-describedby="${t}"], [aria-describedby="${t}"] *, #${t}, #${t} *`)||r(`[aria-describedby="${t}"]`).popover("hide")}))}))}(jQuery)}));